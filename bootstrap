#!/usr/bin/env bash
#
# bootstrap installs dotfiles

set -e

stowables="
  alacritty
  asciinema
  bash
  bat
  editorconfig
  git
  karabiner
  scripts
  starship
  tmux
  vbox
  vim
  wget
  yamllint
"

cd "$(dirname "$0")"

printf 'Installing dotfiles...\n'

if ! stow -V &>/dev/null
then
  printf 'GNU stow not found in PATH\n'
  exit 1
fi

for stowable in $stowables
do
  if stow -t ~ -R "$stowable"; then
    printf '  Succesfully setup %s\n' "$stowable"
  else
    printf '  Failed to setup %s\n' "$stowable" >&2
  fi
done

printf 'Everything in place, have fun!'

exit 0
